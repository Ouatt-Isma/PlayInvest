<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livret A vs PEA : Comparaison et Simulateur - Finary</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --finary-primary: #141145;
            --finary-secondary: #7A2D8D;
            --finary-accent: #5682F2;
            --finary-light: #F1F2F6;
            --finary-dark: #0A0A1D;
            --finary-gold: #F1C086;
            --finary-gradient: linear-gradient(116deg, #5682F2 -36.05%, #F9D09F 100.05%);
            --finary-success: #4CAF50;
            --finary-warning: #FFC107;
            --finary-info: #2196F3;
            --finary-error: #F44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #eef2f6 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 40px 20px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--finary-gradient);
        }
        
        h1 {
            font-size: 2.8rem;
            color: var(--finary-primary);
            margin-bottom: 15px;
            font-weight: 800;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--finary-secondary);
            max-width: 700px;
            margin: 0 auto 25px;
        }
        
        .article-info {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(86, 130, 242, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .content-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        
        .article-content {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        
        h2 {
            font-size: 1.8rem;
            color: var(--finary-primary);
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
            font-weight: 700;
        }
        
        h3 {
            font-size: 1.4rem;
            color: var(--finary-secondary);
            margin: 30px 0 15px;
            font-weight: 600;
        }
        
        p {
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: #444;
            line-height: 1.8;
        }
        
        ul, ol {
            padding-left: 25px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 10px;
            font-size: 1.1rem;
            position: relative;
        }
        
        li::before {
            content: 'â€¢';
            color: var(--finary-accent);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
        .callout {
            padding: 20px;
            border-radius: 12px;
            margin: 30px 0;
            border-left: 4px solid;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .callout.success {
            background-color: rgba(76, 175, 80, 0.08);
            border-color: var(--finary-success);
        }
        
        .callout.info {
            background-color: rgba(33, 150, 243, 0.08);
            border-color: var(--finary-info);
        }
        
        .callout.warning {
            background-color: rgba(255, 193, 7, 0.08);
            border-color: var(--finary-warning);
        }
        
        .callout.error {
            background-color: rgba(244, 67, 54, 0.08);
            border-color: var(--finary-error);
        }
        
        .callout-title {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: var(--finary-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            font-size: 0.95rem;
        }
        
        .comparison-table th {
            background-color: var(--finary-primary);
            color: white;
            font-weight: 600;
            text-align: left;
            padding: 12px 18px;
            font-size: 1rem;
        }
        
        .comparison-table td {
            padding: 12px 18px;
            border-bottom: 1px solid #eee;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        
        .comparison-table .livret-a {
            background-color: rgba(33, 150, 243, 0.05);
        }
        
        .comparison-table .pea {
            background-color: rgba(76, 175, 80, 0.05);
        }
        
        .comparison-table .feature-name {
            font-weight: 600;
            color: var(--finary-primary);
        }
        
        .highlight {
            background-color: rgba(241, 192, 134, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .simulator-container {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin: 50px 0;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            border-top: 4px solid var(--finary-accent);
        }
        
        .simulator-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .simulator-title {
            font-size: 2rem;
            color: var(--finary-primary);
            margin-bottom: 15px;
        }
        
        .simulator-description {
            font-size: 1.1rem;
            color: #555;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .simulator-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        .input-group label {
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--finary-primary);
            font-size: 1.05rem;
        }
        
        .input-group input, .input-group select {
            padding: 14px 18px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1.05rem;
            transition: all 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--finary-accent);
            box-shadow: 0 0 0 4px rgba(86, 130, 242, 0.15);
        }
        
        .input-group input[type="range"] {
            padding: 12px 0;
        }
        
        .range-value {
            display: inline-block;
            background: var(--finary-accent);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.95rem;
            margin-left: 10px;
            font-weight: 600;
        }
        
        .simulator-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .btn {
            padding: 14px 32px;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--finary-gradient);
            color: white;
            box-shadow: 0 4px 15px rgba(86, 130, 242, 0.3);
        }
        
        .btn-secondary {
            background: var(--finary-light);
            color: var(--finary-primary);
            border: 1px solid #ddd;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }
        
        .btn-primary:hover {
            box-shadow: 0 6px 20px rgba(86, 130, 242, 0.4);
        }
        
        .simulator-results {
            display: none;
            margin-top: 40px;
            animation: fadeIn 0.6s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .results-header {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .results-header {
                grid-template-columns: 1fr;
            }
        }
        
        .result-card {
            background: white;
            border-radius: 14px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.09);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
        }
        
        .result-card.livret-a::before {
            background: var(--finary-info);
        }
        
        .result-card.pea::before {
            background: var(--finary-success);
        }
        
        .result-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--finary-primary);
        }
        
        .result-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--finary-primary);
            margin: 15px 0;
        }
        
        .result-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            text-align: left;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            font-size: 0.95rem;
        }
        
        .detail-item {
            font-size: 0.95rem;
        }
        
        .detail-label {
            color: #666;
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-weight: 600;
        }
        
        .result-difference {
            text-align: center;
            font-weight: 700;
            margin: 30px 0;
            font-size: 1.4rem;
            padding: 20px;
            background: rgba(241, 192, 134, 0.2);
            border-radius: 12px;
        }
        
        .result-difference .positive {
            color: var(--finary-success);
        }
        
        .result-difference .negative {
            color: var(--finary-error);
        }
        
        .chart-container {
            height: 450px;
            margin-top: 30px;
        }
        
        .tax-note {
            margin-top: 20px;
            font-size: 0.95rem;
            color: #666;
            text-align: center;
            font-style: italic;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .footer-note {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.95rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .article-content, .simulator-container {
                padding: 25px;
            }
            
            .simulator-inputs {
                grid-template-columns: 1fr;
            }
            
            .result-value {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Livret A vs PEA : Comparaison et Simulateur</h1>
            <p class="subtitle">DÃ©couvrez quel placement est le plus avantageux selon votre profil et vos objectifs financiers</p>
            <div class="article-info">
                <div class="info-item"><i class="far fa-clock"></i> 12 min de lecture</div>
                <div class="info-item"><i class="far fa-calendar-alt"></i> Mise Ã  jour : Juillet 2023</div>
                <div class="info-item"><i class="fas fa-chart-line"></i> Simulateur fiscal</div>
            </div>
        </header>
        
        <div class="content-container">
            <div class="article-content">
                <div class="callout success">
                    <div class="callout-title"><i class="fas fa-key"></i> Points clÃ©s Ã  retenir</div>
                    <ul>
                        <li>Le <span class="highlight">Livret A</span> est sans risque mais avec un rendement faible</li>
                        <li>Le <span class="highlight">PEA</span> offre un potentiel de rendement supÃ©rieur mais avec des risques</li>
                        <li>Le Livret A est disponible immÃ©diatement, le PEA nÃ©cessite 5 ans pour l'avantage fiscal</li>
                        <li>Les deux placements sont complÃ©mentaires dans une stratÃ©gie d'Ã©pargne</li>
                        <li>Le choix dÃ©pend de votre <span class="highlight">profil d'investisseur</span> et de vos objectifs</li>
                    </ul>
                </div>
                
                <h2>Introduction</h2>
                <p>Le Livret A et le Plan Ã‰pargne en Actions (PEA) sont deux placements emblÃ©matiques en France, chacun avec ses avantages et inconvÃ©nients. Alors que le Livret A est plÃ©biscitÃ© pour sa sÃ©curitÃ© et sa liquiditÃ©, le PEA attire les investisseurs Ã  la recherche de rendements plus Ã©levÃ©s sur le long terme.</p>
                
                <p>Dans cet article, nous allons comparer ces deux placements en dÃ©tail et vous proposer un simulateur qui reflÃ¨te la rÃ©alitÃ© de l'imposition : la fiscalitÃ© s'applique uniquement Ã  la clÃ´ture du placement.</p>
                
                <div class="callout info">
                    <div class="callout-title"><i class="fas fa-lightbulb"></i> Saviez-vous ?</div>
                    <p>Plus de 55 millions de Livrets A sont ouverts en France, reprÃ©sentant plus de 500 milliards d'euros d'Ã©pargne. Le PEA, quant Ã  lui, compte plus de 8 millions de dÃ©tenteurs avec environ 200 milliards d'euros d'encours.</p>
                </div>
                
                <h2>Livret A : SÃ©curitÃ© et liquiditÃ©</h2>
                <p>Le Livret A est un compte d'Ã©pargne rÃ©glementÃ© par l'Ã‰tat franÃ§ais. C'est le placement prÃ©fÃ©rÃ© des FranÃ§ais grÃ¢ce Ã  sa simplicitÃ© et sa sÃ©curitÃ© absolue.</p>
                
                <h3>CaractÃ©ristiques principales</h3>
                <ul>
                    <li><strong>SÃ©curitÃ© :</strong> Capital garanti par l'Ã‰tat</li>
                    <li><strong>DisponibilitÃ© :</strong> Retraits Ã  tout moment sans pÃ©nalitÃ©</li>
                    <li><strong>FiscalitÃ© :</strong> ExonÃ©ration totale d'impÃ´ts</li>
                    <li><strong>Plafond :</strong> 22 950 â‚¬ (hors intÃ©rÃªts capitalisÃ©s)</li>
                    <li><strong>Taux :</strong> Actuellement Ã  3% (rÃ©visable tous les 6 mois)</li>
                </ul>
                
                <div class="callout warning">
                    <div class="callout-title"><i class="fas fa-exclamation-circle"></i> InconvÃ©nient majeur</div>
                    <p>Le rendement du Livret A est gÃ©nÃ©ralement infÃ©rieur Ã  l'inflation sur le long terme. Il protÃ¨ge votre capital mais ne le fait pas rÃ©ellement croÃ®tre.</p>
                </div>
                
                <h2>PEA : Rendement et avantage fiscal</h2>
                <p>Le Plan Ã‰pargne en Actions (PEA) est une enveloppe fiscale permettant d'investir sur les marchÃ©s actions europÃ©ens. Il offre un avantage fiscal significatif aprÃ¨s 5 ans de dÃ©tention.</p>
                
                <h3>CaractÃ©ristiques principales</h3>
                <ul>
                    <li><strong>Avantage fiscal :</strong> ExonÃ©ration d'impÃ´t sur le revenu aprÃ¨s 5 ans</li>
                    <li><strong>Potentiel de rendement :</strong> Investissement en actions offrant des rendements supÃ©rieurs</li>
                    <li><strong>Plafond :</strong> 150 000 â‚¬ de versements</li>
                    <li><strong>Produits Ã©ligibles :</strong> Actions europÃ©ennes, trackers (ETF), SICAV</li>
                    <li><strong>Horizon :</strong> Investissement Ã  long terme (5 ans minimum)</li>
                </ul>
                
                <div class="callout error">
                    <div class="callout-title"><i class="fas fa-radiation"></i> Attention au risque</div>
                    <p>Le PEA prÃ©sente un risque de perte en capital. Les performances passÃ©es ne prÃ©jugent pas des performances futures. L'argent doit rester bloquÃ© 5 ans pour bÃ©nÃ©ficier de l'avantage fiscal.</p>
                </div>
                
                <h2>Comparaison dÃ©taillÃ©e</h2>
                <p>Voici un tableau comparatif des principales caractÃ©ristiques du Livret A et du PEA :</p>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>CaractÃ©ristique</th>
                            <th>Livret A</th>
                            <th>PEA</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="feature-name">Nature du produit</td>
                            <td class="livret-a">Compte Ã©pargne rÃ©glementÃ©</td>
                            <td class="pea">Enveloppe fiscale pour investissements</td>
                        </tr>
                        <tr>
                            <td class="feature-name">Risque</td>
                            <td class="livret-a">Aucun (capital garanti)</td>
                            <td class="pea">Risque de perte en capital</td>
                        </tr>
                        <tr>
                            <td class="feature-name">Rendement potentiel</td>
                            <td class="livret-a">Faible (taux rÃ©glementÃ©)</td>
                            <td class="pea">Ã‰levÃ© (dÃ©pend des marchÃ©s)</td>
                        </tr>
                        <tr>
                            <td class="feature-name">FiscalitÃ©</td>
                            <td class="livret-a">ExonÃ©ration totale</td>
                            <td class="pea">ExonÃ©ration IR aprÃ¨s 5 ans (PS 17.2%)</td>
                        </tr>
                        <tr>
                            <td class="feature-name">Plafond</td>
                            <td class="livret-a">22 950 â‚¬</td>
                            <td class="pea">150 000 â‚¬ de versements</td>
                        </tr>
                        <tr>
                            <td class="feature-name">LiquiditÃ©</td>
                            <td class="livret-a">Totale et immÃ©diate</td>
                            <td class="pea">Retraits possibles mais clÃ´ture si avant 5 ans</td>
                        </tr>
                    </tbody>
                </table>
                
                <h2>Quel placement choisir ?</h2>
                <p>Le choix entre Livret A et PEA dÃ©pend de plusieurs facteurs :</p>
                
                <ul>
                    <li><strong>Votre horizon d'investissement :</strong> Court terme = Livret A, Long terme = PEA</li>
                    <li><strong>Votre tolÃ©rance au risque :</strong> Faible = Livret A, Ã‰levÃ©e = PEA</li>
                    <li><strong>Vos objectifs financiers :</strong> SÃ©curitÃ© = Livret A, Croissance = PEA</li>
                    <li><strong>Votre situation fiscale :</strong> Le PEA offre un avantage aprÃ¨s 5 ans</li>
                </ul>
                
                <div class="callout info">
                    <div class="callout-title"><i class="fas fa-user-check"></i> Recommandations par profil</div>
                    <ul>
                        <li><strong>Ã‰pargne de prÃ©caution :</strong> Livret A (3-6 mois de dÃ©penses)</li>
                        <li><strong>Projets Ã  moyen terme :</strong> Livret A ou autres supports sÃ©curisÃ©s</li>
                        <li><strong>Ã‰pargne retraite ou long terme :</strong> PEA pour son potentiel de rendement</li>
                    </ul>
                </div>
                
                <h2>Simulateur fiscal</h2>
                <p>Utilisez notre simulateur pour comparer la croissance de votre Ã©pargne sur le Livret A et le PEA selon votre profil. La fiscalitÃ© est appliquÃ©e uniquement Ã  la clÃ´ture du placement.</p>
                
                <div class="simulator-container">
                    <div class="simulator-header">
                        <h2 class="simulator-title">Simulateur d'Ã‰pargne Livret A vs PEA</h2>
                        <p class="simulator-description">Comparez la croissance de votre Ã©pargne sur les deux placements en fonction de vos paramÃ¨tres d'investissement avec la fiscalitÃ© appliquÃ©e uniquement Ã  la clÃ´ture.</p>
                    </div>
                    
                    <div class="simulator-inputs">
                        <div class="input-group">
                            <label for="initial-amount">Montant initial (â‚¬)</label>
                            <input type="number" id="initial-amount" min="0" step="100" value="10000">
                        </div>
                        
                        <div class="input-group">
                            <label for="monthly-deposit">Versement mensuel (â‚¬)</label>
                            <input type="number" id="monthly-deposit" min="0" step="10" value="300">
                        </div>
                        
                        <div class="input-group">
                            <label for="duration">DurÃ©e (annÃ©es)</label>
                            <input type="number" id="duration" min="1" max="40" value="15">
                        </div>
                        
                        <div class="input-group">
                            <label for="pea-return">Rendement annuel PEA (%) <span id="return-value" class="range-value">6%</span></label>
                            <input type="range" id="pea-return" min="1" max="15" step="0.5" value="6">
                        </div>
                        
                        <div class="input-group">
                            <label for="tax-option">FiscalitÃ© PEA</label>
                            <select id="tax-option">
                                <option value="with-tax">Avec fiscalitÃ© (PS 17.2% Ã  la clÃ´ture)</option>
                                <option value="without-tax">Sans fiscalitÃ© (simulation)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="simulator-actions">
                        <button class="btn btn-primary" id="calculate-btn">
                            <i class="fas fa-calculator"></i> Calculer la projection
                        </button>
                        <button class="btn btn-secondary" id="reset-btn">
                            <i class="fas fa-redo"></i> RÃ©initialiser
                        </button>
                    </div>
                    
                    <div class="simulator-results" id="results-section">
                        <div class="results-header">
                            <div class="result-card livret-a">
                                <div class="result-title">Livret A</div>
                                <div class="result-value" id="livret-result">0 â‚¬</div>
                                <div>Taux: 3%</div>
                                <div class="result-details">
                                    <div class="detail-item">
                                        <div class="detail-label">Capital investi</div>
                                        <div class="detail-value" id="livret-capital">0 â‚¬</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">IntÃ©rÃªts cumulÃ©s</div>
                                        <div class="detail-value" id="livret-interests">0 â‚¬</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">FiscalitÃ©</div>
                                        <div class="detail-value" id="livret-tax">0 â‚¬</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">Rendement annuel</div>
                                        <div class="detail-value">3.0%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="result-card pea">
                                <div class="result-title">PEA</div>
                                <div class="result-value" id="pea-result">0 â‚¬</div>
                                <div>Rendement: <span id="used-return">0%</span></div>
                                <div class="result-details">
                                    <div class="detail-item">
                                        <div class="detail-label">Capital investi</div>
                                        <div class="detail-value" id="pea-capital">0 â‚¬</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">Plus-value</div>
                                        <div class="detail-value" id="pea-gain">0 â‚¬</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">Taxe (PS)</div>
                                        <div class="detail-value" id="pea-tax">0 â‚¬</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">Rendement net</div>
                                        <div class="detail-value" id="pea-net-return">0%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="result-difference">
                            DiffÃ©rence: <span id="difference-value" class="positive">0 â‚¬</span> en faveur du <span id="better-investment">PEA</span>
                        </div>
                        
                        <div class="chart-container">
                            <canvas id="investment-chart"></canvas>
                        </div>
                        
                        <p class="tax-note">* La simulation du PEA applique les prÃ©lÃ¨vements sociaux de 17.2% uniquement Ã  la clÃ´ture du placement. Pour les durÃ©es infÃ©rieures Ã  5 ans, la flat tax (30%) est appliquÃ©e. Les frais de gestion ne sont pas inclus dans cette simulation.</p>
                    </div>
                </div>
                
                <h2>Conclusion</h2>
                <p>Le Livret A et le PEA ne sont pas concurrents mais complÃ©mentaires dans une stratÃ©gie d'Ã©pargne Ã©quilibrÃ©e. Le Livret A reste indispensable pour votre Ã©pargne de prÃ©caution et vos projets Ã  court terme, tandis que le PEA est l'enveloppe idÃ©ale pour investir en actions avec un avantage fiscal significatif Ã  long terme.</p>
                
                <div class="callout success">
                    <div class="callout-title"><i class="fas fa-check-circle"></i> La stratÃ©gie gagnante</div>
                    <p>L'idÃ©al est de combiner les deux placements : utilisez le Livret A comme matelas de sÃ©curitÃ© et investissez rÃ©guliÃ¨rement en PEA pour faire fructifier votre Ã©pargne sur le long terme. Adaptez la rÃ©partition selon votre Ã¢ge, vos objectifs et votre tolÃ©rance au risque.</p>
                </div>
                
                <p class="footer-note">Les simulations prÃ©sentÃ©es sont basÃ©es sur des hypothÃ¨ses de marchÃ© et ne constituent en aucun cas une garantie de performance future. Les donnÃ©es fiscales sont valides en 2023 et pourraient Ã©voluer. Consultez un conseiller financier pour des recommandations personnalisÃ©es.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const peaReturnSlider = document.getElementById('pea-return');
            const returnValue = document.getElementById('return-value');
            const calculateBtn = document.getElementById('calculate-btn');
            const resetBtn = document.getElementById('reset-btn');
            const resultsSection = document.getElementById('results-section');
            const livretResult = document.getElementById('livret-result');
            const peaResult = document.getElementById('pea-result');
            const differenceValue = document.getElementById('difference-value');
            const usedReturn = document.getElementById('used-return');
            const betterInvestment = document.getElementById('better-investment');
            let investmentChart = null;
            
            // Mise Ã  jour de la valeur du rendement PEA
            peaReturnSlider.addEventListener('input', function() {
                returnValue.textContent = `${this.value}%`;
            });
            
            // Calcul de la projection
            calculateBtn.addEventListener('click', calculateProjection);
            
            // RÃ©initialisation
            resetBtn.addEventListener('click', function() {
                document.getElementById('initial-amount').value = 10000;
                document.getElementById('monthly-deposit').value = 300;
                document.getElementById('duration').value = 15;
                peaReturnSlider.value = 6;
                returnValue.textContent = '6%';
                resultsSection.style.display = 'none';
                
                if (investmentChart) {
                    investmentChart.destroy();
                }
            });
            
            function calculateProjection() {
                // RÃ©cupÃ©ration des valeurs
                const initialAmount = parseFloat(document.getElementById('initial-amount').value) || 0;
                const monthlyDeposit = parseFloat(document.getElementById('monthly-deposit').value) || 0;
                const duration = parseInt(document.getElementById('duration').value) || 1;
                const peaReturn = parseFloat(peaReturnSlider.value) / 100;
                const taxOption = document.getElementById('tax-option').value;
                
                // Validation
                if (initialAmount <= 0 && monthlyDeposit <= 0) {
                    alert('Veuillez saisir un montant initial ou un versement mensuel.');
                    return;
                }
                
                if (duration <= 0) {
                    alert('La durÃ©e doit Ãªtre supÃ©rieure Ã  zÃ©ro.');
                    return;
                }
                
                // Calculs
                const livretData = calculateLivretA(initialAmount, monthlyDeposit, duration);
                const peaData = calculatePEA(initialAmount, monthlyDeposit, duration, peaReturn, taxOption === 'with-tax');
                
                // Affichage des rÃ©sultats
                const livretFinal = livretData[livretData.length - 1];
                const peaFinal = peaData[peaData.length - 1];
                
                livretResult.textContent = formatCurrency(livretFinal);
                peaResult.textContent = formatCurrency(peaFinal);
                usedReturn.textContent = `${(peaReturn * 100).toFixed(1)}%`;
                
                const difference = peaFinal - livretFinal;
                differenceValue.textContent = formatCurrency(Math.abs(difference));
                differenceValue.className = difference >= 0 ? 'positive' : 'negative';
                betterInvestment.textContent = difference >= 0 ? 'PEA' : 'Livret A';
                
                // CrÃ©ation du graphique
                createChart(livretData, peaData, duration);
                
                // Affichage des rÃ©sultats
                resultsSection.style.display = 'block';
                
                // Scroll vers les rÃ©sultats
                resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
            
            function calculateLivretA(initial, monthly, years) {
                const livretRate = 0.03; // Taux du Livret A Ã  3%
                let total = initial;
                const results = [initial];
                let totalDeposits = initial;
                let totalInterests = 0;
                
                for (let year = 1; year <= years; year++) {
                    // Ajout des versements mensuels
                    const annualDeposit = monthly * 12;
                    total += annualDeposit;
                    totalDeposits += annualDeposit;
                    
                    // Calcul des intÃ©rÃªts annuels
                    const interest = total * livretRate;
                    totalInterests += interest;
                    total += interest;
                    
                    results.push(total);
                }
                
                // Mise Ã  jour des dÃ©tails
                document.getElementById('livret-capital').textContent = formatCurrency(totalDeposits);
                document.getElementById('livret-interests').textContent = formatCurrency(totalInterests);
                document.getElementById('livret-tax').textContent = "ExonÃ©rÃ©e";
                
                return results;
            }
            
            function calculatePEA(initial, monthly, years, returnRate, withTax) {
                let total = initial;
                const results = [initial];
                let totalDeposits = initial;
                let totalGain = 0;
                let tax = 0;
                
                for (let year = 1; year <= years; year++) {
                    // Ajout des versements mensuels
                    const annualDeposit = monthly * 12;
                    total += annualDeposit;
                    totalDeposits += annualDeposit;
                    
                    // Calcul du rendement annuel
                    total *= (1 + returnRate);
                    
                    results.push(total);
                }
                
                // Application de la fiscalitÃ© uniquement Ã  la clÃ´ture
                let netValue = total;
                
                if (withTax) {
                    totalGain = total - totalDeposits;
                    
                    if (totalGain > 0) {
                        // DÃ©termination du taux de taxe
                        const taxRate = years >= 5 ? 0.172 : 0.30;
                        tax = totalGain * taxRate;
                        netValue = total - tax;
                        
                        // Mise Ã  jour du dernier point (annÃ©e finale)
                        results[results.length - 1] = netValue;
                    }
                } else {
                    totalGain = total - totalDeposits;
                }
                
                // Calcul du rendement net annualisÃ©
                const netReturn = (Math.pow(netValue / totalDeposits, 1/years) - 1) * 100;
                
                // Mise Ã  jour des dÃ©tails
                document.getElementById('pea-capital').textContent = formatCurrency(totalDeposits);
                document.getElementById('pea-gain').textContent = formatCurrency(totalGain);
                document.getElementById('pea-tax').textContent = formatCurrency(tax);
                document.getElementById('pea-net-return').textContent = netReturn.toFixed(2) + "%";
                
                return results;
            }
            
            function createChart(livretData, peaData, years) {
                const ctx = document.getElementById('investment-chart').getContext('2d');
                
                // Destruction du graphique prÃ©cÃ©dent s'il existe
                if (investmentChart) {
                    investmentChart.destroy();
                }
                
                // PrÃ©paration des labels (annÃ©es)
                const labels = ['DÃ©but'];
                for (let i = 1; i <= years; i++) {
                    labels.push(`AnnÃ©e ${i}`);
                }
                
                investmentChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'Livret A',
                                data: livretData,
                                borderColor: '#2196F3',
                                backgroundColor: 'rgba(33, 150, 243, 0.1)',
                                borderWidth: 4,
                                pointRadius: 4,
                                pointBackgroundColor: '#2196F3',
                                tension: 0.1,
                                fill: false
                            },
                            {
                                label: 'PEA',
                                data: peaData,
                                borderColor: '#4CAF50',
                                backgroundColor: 'rgba(76, 175, 80, 0.1)',
                                borderWidth: 4,
                                pointRadius: 4,
                                pointBackgroundColor: '#4CAF50',
                                tension: 0.1,
                                fill: false
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Ã‰volution de votre Ã©pargne',
                                font: {
                                    size: 18,
                                    weight: 'bold'
                                },
                                padding: {
                                    top: 10,
                                    bottom: 20
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: ${formatCurrency(context.parsed.y)}`;
                                    }
                                }
                            },
                            legend: {
                                position: 'top',
                                labels: {
                                    font: {
                                        size: 14
                                    },
                                    padding: 20,
                                    usePointStyle: true,
                                    pointStyle: 'circle'
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return formatCurrency(value);
                                    },
                                    font: {
                                        size: 12
                                    }
                                },
                                title: {
                                    display: true,
                                    text: 'Montant (â‚¬)',
                                    font: {
                                        size: 14,
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'AnnÃ©es',
                                    font: {
                                        size: 14,
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        },
                        animation: {
                            duration: 1000,
                            easing: 'easeOutQuart'
                        }
                    }
                });
            }
            
            function formatCurrency(amount) {
                return new Intl.NumberFormat('fr-FR', {
                    style: 'currency',
                    currency: 'EUR',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(amount);
            }
            
            // Calcul initial au chargement
            setTimeout(calculateProjection, 1000);
        });
    </script>
</body>
</html>